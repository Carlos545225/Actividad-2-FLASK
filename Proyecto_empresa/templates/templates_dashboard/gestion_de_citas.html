{% extends 'templates_dashboard/base_dashboard.html' %}
{% block content %}
<main class="container py-5">
    <section>
        <h2 class="mt-4 mb-3">Gestión de Citas y Agendamiento</h2>

        <form method="POST" action="">
            <h3>Programación de Citas</h3>

            <div class="row">
                <div class="col-md-6">

                    <div class="mb-3">
                        <label for="especialidad" class="form-label">Especialidad Médica</label>
                        <select class="form-select" id="especialidad" name="especialidad" required>
                            <option value="">Seleccione una especialidad</option>
                            <option value="cardiologia">Cardiología</option>
                            <option value="dermatologia">Dermatología</option>
                            <option value="ginecologia">Ginecología</option>
                            <option value="pediatria">Pediatría</option>
                            <option value="neurologia">Neurología</option>
                            <option value="oftalmologia">Oftalmología</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="medico" class="form-label">Médico</label>
                        <select class="form-select" id="medico" name="medico" required>
                            <option value="">Seleccione un médico</option>
                        </select>
                    </div>
                </div>

                <div class="col-md-6">

                    <div class="mb-3">
                        <label for="fecha_cita" class="form-label">Fecha de la Cita</label>
                        <input type="date" class="form-control" id="fecha_cita" name="fecha_cita" required>
                    </div>

                    <div class="mb-3">
                        <label for="hora_cita" class="form-label">Hora de la Cita</label>
                        <select class="form-select" id="hora_cita" name="hora_cita" required>
                            <option value="">Seleccione una hora</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="mb-3">
                <label for="paciente_id" class="form-label">ID del Paciente</label>
                <input type="text" class="form-control" id="paciente_id" name="paciente_id" placeholder="Ingrese el ID del paciente" required>
            </div>

            <div class="mb-3">
                <label for="motivo_cita" class="form-label">Motivo de la Cita</label>
                <textarea class="form-control" id="motivo_cita" name="motivo_cita" rows="3" placeholder="Ingrese el motivo de la cita"></textarea>
            </div>

            <button type="submit" class="btn btn-primary">Agendar Cita</button>
        </form>

        <!-- Display Availability - Consider moving this to a separate page/request -->
        <h3 class="mt-4">Disponibilidad de Médicos</h3>
        <div id="disponibilidad_medicos">
            <!-- Availability data will be loaded from backend after a selection -->
            <!-- This likely needs its own separate page or request to avoid overwhelming the form -->
            <p>Seleccione una especialidad, médico y fecha para ver la disponibilidad.</p>
            <!-- Display availability table/calendar here (HTML generated by backend) -->
        </div>

        <!-- Automatic Reminders (Placeholder - needs backend integration) -->
        <h3 class="mt-4">Recordatorios Automáticos</h3>
        <p>Los recordatorios automáticos se enviarán al paciente 24 horas antes de la cita. (This is a placeholder - requires backend and messaging service setup).</p>
    </section>
</main>
{% endblock %}