{% extends 'templates_dashboard/base_dashboard.html' %}
{% block content %}
<div class="container">
    <main class="py-5">
        <h1 class="titulo mb-4">Agenda y Citas Médicas</h1>

        <!-- Tabs -->
        <ul class="nav nav-tabs" id="myTabAgenda" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="programacion-citas-tab" data-bs-toggle="tab" data-bs-target="#programacion-citas" type="button" role="tab" aria-controls="programacion-citas" aria-selected="true">
                    <i class="bi bi-calendar-plus"></i> Programación de Citas
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="disponibilidad-tab" data-bs-toggle="tab" data-bs-target="#disponibilidad" type="button" role="tab" aria-controls="disponibilidad" aria-selected="false">
                    <i class="bi bi-calendar-range"></i> Disponibilidad y Cancelaciones
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="recordatorios-tab" data-bs-toggle="tab" data-bs-target="#recordatorios" type="button" role="tab" aria-controls="recordatorios" aria-selected="false">
                    <i class="bi bi-bell"></i> Recordatorios Automáticos
                </button>
            </li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content" id="myTabAgendaContent">

            <!-- Programación de Citas -->
            <div class="tab-pane fade show active" id="programacion-citas" role="tabpanel" aria-labelledby="programacion-citas-tab">
                <h2 class="titulo mt-4 mb-3">Programación de Citas</h2>
                <form>
                    <div class="mb-3">
                        <label for="pacienteCita" class="form-label">Paciente</label>
                        <input type="text" class="form-control" id="pacienteCita" placeholder="Buscar paciente...">
                    </div>
                    <div class="mb-3">
                        <label for="especialidadCita" class="form-label">Especialidad</label>
                        <select class="form-select" id="especialidadCita">
                            <option value="">Seleccione una especialidad</option>
                            <option value="cardiologia">Cardiología</option>
                            <option value="dermatologia">Dermatología</option>
                            <option value="neurologia">Neurología</option>
                            <!-- Add more specialties -->
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="medicoCita" class="form-label">Médico</label>
                        <select class="form-select" id="medicoCita">
                            <option value="">Seleccione un médico</option>
                            <option value="dr_perez">Dr. Juan Pérez</option>
                            <option value="dra_gomez">Dra. María Gómez</option>
                            <!-- Populate dynamically based on selected specialty -->
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="fechaCita" class="form-label">Fecha</label>
                        <input type="date" class="form-control" id="fechaCita">
                    </div>
                    <div class="mb-3">
                        <label for="horaCita" class="form-label">Hora</label>
                        <select class="form-select" id="horaCita">
                            <option value="">Seleccione una hora</option>
                            <option value="08:00">08:00 AM</option>
                            <option value="08:30">08:30 AM</option>
                            <option value="09:00">09:00 AM</option>
                            <!-- Populate dynamically based on doctor availability -->
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary">Programar Cita</button>
                </form>

                <hr>
                <h3 class="titulo mt-4 mb-3">Próximas Citas</h3>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Paciente</th>
                            <th>Especialidad</th>
                            <th>Médico</th>
                            <th>Fecha</th>
                            <th>Hora</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Paciente 1</td>
                            <td>Cardiología</td>
                            <td>Dr. Juan Pérez</td>
                            <td>2024-02-28</td>
                            <td>09:00 AM</td>
                            <td>
                                <button class="btn btn-sm btn-info">Ver Detalles</button>
                                <button class="btn btn-sm btn-warning">Editar</button>
                                <button class="btn btn-sm btn-danger">Cancelar</button>
                            </td>
                        </tr>
                        <tr>
                            <td>Paciente 2</td>
                            <td>Dermatología</td>
                            <td>Dra. María Gómez</td>
                            <td>2024-03-01</td>
                            <td>10:30 AM</td>
                            <td>
                                <button class="btn btn-sm btn-info">Ver Detalles</button>
                                <button class="btn btn-sm btn-warning">Editar</button>
                                <button class="btn btn-sm btn-danger">Cancelar</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Disponibilidad y Cancelaciones -->
            <div class="tab-pane fade" id="disponibilidad" role="tabpanel" aria-labelledby="disponibilidad-tab">
                <h2 class="titulo mt-4 mb-3">Disponibilidad y Cancelaciones</h2>
                <form>
                    <div class="mb-3">
                        <label for="medicoDisponibilidad" class="form-label">Médico</label>
                        <select class="form-select" id="medicoDisponibilidad">
                            <option value="">Seleccione un médico</option>
                            <option value="dr_perez">Dr. Juan Pérez</option>
                            <option value="dra_gomez">Dra. María Gómez</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="fechaDisponibilidad" class="form-label">Fecha</label>
                        <input type="date" class="form-control" id="fechaDisponibilidad">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Horario de Disponibilidad</label>
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Hora Inicio</th>
                                    <th>Hora Fin</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><input type="time" class="form-control"></td>
                                    <td><input type="time" class="form-control"></td>
                                </tr>
                            </tbody>
                        </table>
                        <button type="button" class="btn btn-sm btn-secondary">Agregar Horario</button>  <!-- Would use Javascript to add more rows -->
                    </div>

                    <button type="submit" class="btn btn-primary">Guardar Disponibilidad</button>
                </form>

                <hr>
                <h3 class="titulo mt-4 mb-3">Citas Canceladas</h3>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Paciente</th>
                            <th>Médico</th>
                            <th>Fecha</th>
                            <th>Hora</th>
                            <th>Motivo</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Paciente 3</td>
                            <td>Dr. Juan Pérez</td>
                            <td>2024-02-27</td>
                            <td>10:00 AM</td>
                            <td>Enfermedad</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Recordatorios Automáticos -->
            <div class="tab-pane fade" id="recordatorios" role="tabpanel" aria-labelledby="recordatorios-tab">
                <h2 class="titulo mt-4 mb-3">Recordatorios Automáticos</h2>
                <form>
                    <div class="mb-3">
                        <label for="tipoRecordatorio" class="form-label">Tipo de Recordatorio</label>
                        <select class="form-select" id="tipoRecordatorio">
                            <option value="email">Email</option>
                            <option value="sms">SMS</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="mensajeRecordatorio" class="form-label">Mensaje del Recordatorio</label>
                        <textarea class="form-control" id="mensajeRecordatorio" rows="3">Estimado/a [Paciente], le recordamos su cita con [Médico] el [Fecha] a las [Hora].</textarea>
                    </div>
                    <div class="mb-3">
                        <label for="tiempoAnticipacion" class="form-label">Tiempo de Anticipación (horas)</label>
                        <input type="number" class="form-control" id="tiempoAnticipacion" value="24">
                    </div>
                    <button type="submit" class="btn btn-primary">Guardar Configuración</button>
                </form>

                <hr>
                <h3 class="titulo mt-4 mb-3">Historial de Recordatorios Enviados</h3>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Paciente</th>
                            <th>Fecha de Envío</th>
                            <th>Tipo</th>
                            <th>Mensaje</th>
                            <th>Estado</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Paciente 1</td>
                            <td>2024-02-27 09:00 AM</td>
                            <td>Email</td>
                            <td>Estimado/a Paciente 1, le recordamos su cita...</td>
                            <td>Enviado</td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>
    </main>
</div>
{% endblock %}