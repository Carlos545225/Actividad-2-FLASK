{% extends 'templates_dashboard/base_dashboard.html' %}
{% block content %}
<main class="container py-5">
    <section>
        <h2 class="titulo mt-4 mb-3">Gestión de Pacientes</h2>

        <!-- Tabs Navigation -->
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="personal-tab" data-bs-toggle="tab" data-bs-target="#personal" type="button" role="tab" aria-controls="personal" aria-selected="true">Datos Personales</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="historial-tab" data-bs-toggle="tab" data-bs-target="#historial" type="button" role="tab" aria-controls="historial" aria-selected="false">Historial Clínico</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="alertas-tab" data-bs-toggle="tab" data-bs-target="#alertas" type="button" role="tab" aria-controls="alertas" aria-selected="false">Alertas Médicas</button>
            </li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content" id="myTabContent">

            <!-- Datos Personales Tab -->
            <div class="tab-pane fade show active" id="personal" role="tabpanel" aria-labelledby="personal-tab">
                <form>
                    <h3 class="titulo">Registro y Datos Personales</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="nombre" class="form-label">Nombre Completo</label>
                                <input type="text" class="form-control" id="nombre" name="nombre" placeholder="Ingrese el nombre completo">
                            </div>
                            <div class="mb-3">
                                <label for="fecha_nacimiento" class="form-label">Fecha de Nacimiento</label>
                                <input type="date" class="form-control" id="fecha_nacimiento" name="fecha_nacimiento">
                            </div>
                            <div class="mb-3">
                                <label for="genero" class="form-label">Género</label>
                                <select class="form-select" id="genero" name="genero">
                                    <option value="">Seleccione un género</option>
                                    <option value="masculino">Masculino</option>
                                    <option value="femenino">Femenino</option>
                                    <option value="otro">Otro</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="telefono" class="form-label">Teléfono</label>
                                <input type="tel" class="form-control" id="telefono" name="telefono" placeholder="Ingrese el número de teléfono">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="email" class="form-label">Correo Electrónico</label>
                                <input type="email" class="form-control" id="email" name="email" placeholder="Ingrese el correo electrónico">
                            </div>
                            <div class="mb-3">
                                <label for="direccion" class="form-label">Dirección</label>
                                <input type="text" class="form-control" id="direccion" name="direccion" placeholder="Ingrese la dirección">
                            </div>
                            <div class="mb-3">
                                <label for="dni" class="form-label">DNI/Identificación</label>
                                <input type="text" class="form-control" id="dni" name="dni" placeholder="Ingrese el DNI/Identificación">
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Historial Clínico Tab -->
            <div class="tab-pane fade" id="historial" role="tabpanel" aria-labelledby="historial-tab">
                <form>
                    <h3 class="titulo">Historial Clínico</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="grupo_sanguineo" class="form-label">Grupo Sanguíneo</label>
                                <select class="form-select" id="grupo_sanguineo" name="grupo_sanguineo">
                                    <option value="">Seleccione el grupo sanguíneo</option>
                                    <option value="A+">A+</option>
                                    <option value="A-">A-</option>
                                    <option value="B+">B+</option>
                                    <option value="B-">B-</option>
                                    <option value="AB+">AB+</option>
                                    <option value="AB-">AB-</option>
                                    <option value="O+">O+</option>
                                    <option value="O-">O-</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="peso" class="form-label">Peso (kg)</label>
                                <input type="number" class="form-control" id="peso" name="peso" placeholder="Ingrese el peso en kg">
                            </div>
                            <div class="mb-3">
                                <label for="imc" class="form-label">IMC (Índice de Masa Corporal)</label>
                                <input type="text" class="form-control" id="imc" name="imc" placeholder="Calculado Automáticamente" readonly>
                                <small class="text-muted">El IMC se calculará automáticamente al ingresar peso y altura.</small>
                            </div>
                            <div class="mb-3">
                                <label for="presion_arterial" class="form-label">Presión Arterial</label>
                                <input type="text" class="form-control" id="presion_arterial" name="presion_arterial" placeholder="Ej: 120/80">
                            </div>
                            <div class="mb-3">
                                <label for="alergias_medicamentos" class="form-label">Alergias a Medicamentos</label>
                                <textarea class="form-control" id="alergias_medicamentos" name="alergias_medicamentos" rows="2" placeholder="Ingrese las alergias a medicamentos"></textarea>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="altura" class="form-label">Altura (cm)</label>
                                <input type="number" class="form-control" id="altura" name="altura" placeholder="Ingrese la altura en cm">
                            </div>
                            <div class="mb-3">
                                <label for="antecedentes_familiares" class="form-label">Antecedentes Familiares</label>
                                <textarea class="form-control" id="antecedentes_familiares" name="antecedentes_familiares" rows="3" placeholder="Ingrese los antecedentes familiares relevantes"></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="enfermedades_previas" class="form-label">Enfermedades Previas</label>
                                <textarea class="form-control" id="enfermedades_previas" name="enfermedades_previas" rows="3" placeholder="Ingrese las enfermedades que ha tenido"></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="cirugias" class="form-label">Cirugías</label>
                                <textarea class="form-control" id="cirugias" name="cirugias" rows="2" placeholder="Ingrese las cirugías que ha tenido"></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="vacunas" class="form-label">Vacunas Recibidas</label>
                                <textarea class="form-control" id="vacunas" name="vacunas" rows="2" placeholder="Ingrese las vacunas que ha recibido"></textarea>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <!-- Alertas Médicas Tab -->
            <div class="tab-pane fade" id="alertas" role="tabpanel" aria-labelledby="alertas-tab">
                <form>
                    <h3 class="titulo">Alertas Médicas</h3>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="mb-3">
                                <label for="alergias" class="form-label">Alergias</label>
                                <textarea class="form-control" id="alergias" name="alergias" rows="3" placeholder="Ingrese las alergias"></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="enfermedades_cronicas" class="form-label">Enfermedades Crónicas</label>
                                <textarea class="form-control" id="enfermedades_cronicas" name="enfermedades_cronicas" rows="3" placeholder="Ingrese las enfermedades crónicas"></textarea>
                            </div>

                            <div class="mb-3">
                                <label for="medicamentos_actuales" class="form-label">Medicamentos Actuales</label>
                                <textarea class="form-control" id="medicamentos_actuales" name="medicamentos_actuales" rows="3" placeholder="Ingrese los medicamentos que está tomando actualmente"></textarea>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <button type="submit" class="btn btn-primary">Registrar Paciente</button>

    </section>
</main>
<script src="{{ url_for('static', filename='js/imc.js')}}"></script>
{% endblock %}